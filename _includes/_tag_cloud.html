{%- comment -%}
Simple tag list from posts (nonâ€‘main tags only).
- Only published, indexable, English posts are considered (no draft, no noindex, no translation_en).
- Displays only the tag name as the link text (no counts, no titles), linking to /tag/<slug>/.
- Avoids where_exp to maximize compatibility.
{%- endcomment -%}

{%- assign main_tags = site.main_categories | default: "" -%}
{%- assign all_tag_names = '' | split: '' -%}

{%- for p in site.posts -%}
  {%- if p.draft != true and p.noindex != true and p.translation_en == nil and p.tags -%}
    {%- for tg in p.tags -%}
      {%- assign all_tag_names = all_tag_names | push: tg -%}
    {%- endfor -%}
  {%- endif -%}
{%- endfor -%}

{%- assign unique_tags = all_tag_names | uniq | sort -%}

<ul class="tag-cloud">
{%- for tag_name in unique_tags -%}
  {%- assign slug = tag_name | slugify -%}
  {%- if main_tags contains slug -%}{%- continue -%}{%- endif -%}
  <li><a href="{{ site.url }}/tag/{{ slug }}/">{{ tag_name }}</a></li>
{%- endfor -%}
</ul>
