<meta charset="utf-8">
<title>{% if page.title %}{{ page.title }} &#8211; {% endif %}{{ site.title }}</title>
{% if page.description %}<meta name="description" content="{{ page.description | strip_html }}">{% else %}
<meta name="description" content="{{ page.excerpt | strip_html }}">{% endif %}
<meta name="keywords" content="{{ page.tags | join: ', ' }}">
{% if page.author %}
  {% assign author = site.data.authors[page.author] %}{% else %}{% assign author = site.owner %}
{% endif %}

{%- comment -%}
  Robots indexing control
  - If a page (post, tag, category, or any page) sets `noindex: true`
    in its front matter, emit `noindex,follow` to prevent indexing while
    keeping link equity flowing.
{%- endcomment -%}
{% if page.noindex %}
<meta name="robots" content="noindex,follow">
{% endif %}

{% include _open-graph.html %}

{% if site.owner.google.verify %}<!-- Webmaster Tools verfication -->
<meta name="google-site-verification" content="{{ site.owner.google.verify }}">{% endif %}
{% if site.owner.bing-verify %}<meta name="msvalidate.01" content="{{ site.owner.bing-verify }}">{% endif %}

{%- comment -%}
  Canonical URL
  - If this is a French page with a declared English counterpart (translation_en),
    point canonical to the English permalink to avoid duplicate content signals.
  - Otherwise, keep the existing page-based canonical computation.
{%- endcomment -%}
{% if page.lang == 'fr' and page.translation_en %}
  {% assign canonical = site.url | append: page.translation_en %}
{% else %}
  {% capture canonical %}{{ site.url }}{% if site.permalink contains '.html' %}{{ page.url }}{% else %}{{ page.url | remove:'index.html' | strip_slash }}{% endif %}{% endcapture %}
{% endif %}
<link rel="canonical" href="{{ canonical }}">

{%- comment -%}
  Optional: alternate hreflang hints (kept minimal; extend as needed)
{%- endcomment -%}
{% if page.translation_en %}
  <link rel="alternate" hreflang="en" href="{{ site.url }}{{ page.translation_en }}">
{% endif %}
{% if page.translation_fr %}
  <link rel="alternate" hreflang="fr" href="{{ site.url }}{{ page.translation_fr }}">
{% endif %}
<link rel="alternate" hreflang="x-default" href="{{ canonical }}">
<link href="{{ site.url }}/feed.xml" type="application/atom+xml" rel="alternate" title="{{ site.title }} Feed">

<!-- https://t.co/dKP3o1e -->
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- For all browsers -->
<link rel="stylesheet" href="{{ site.url }}/assets/css/main.css">
<meta http-equiv="cleartype" content="on">

<!-- HTML5 Shiv and Media Query Support -->
<!--[if lt IE 9]>
	<script src="{{ site.url }}/assets/js/vendor/html5shiv.min.js"></script>
	<script src="{{ site.url }}/assets/js/vendor/respond.min.js"></script>
<![endif]-->


<!-- Icons -->
<link rel="icon" href="{{ site.url }}/favicon.ico" sizes="any">
<link rel="icon" type="image/svg+xml" href="{{ site.url }}/favicon.svg">
<link rel="apple-touch-icon" href="{{ site.url }}/apple-touch-icon.png">
