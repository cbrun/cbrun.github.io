---
layout: post
title: 'ShuangXi effect : UI testing and documentation'
date: '2009-03-04T05:23:00.000-08:00'
tags:
- ui testing
- eclipse
- acceleo
- software engineering
categories: [eclipse]
modified_time: '2009-05-07T08:07:13.135-07:00'
thumbnail: https://2.bp.blogspot.com/_u5tMWln_Ie8/Sa6GLMuNNLI/AAAAAAAAAG4/AbnjaM7dp7U/s72-c/1-switch-perspective.png
blogger_id: tag:blogger.com,1999:blog-5749374620125186414.post-8765541702991355228
blogger_orig_url: https://model-driven-blogging.blogspot.com/2009/03/shuangxi-effect-ui-testing-and.html
draft: true
---

In my never-ending quest of ideas or tools to **avoid doing boring stuff** (that sacred goal explains my interest in pragmatic modeling), I made quite a victory today thanks to one of those gems you find in Eclipse.

Here I'm speaking about the **help/tutorials** you get in the Eclipse help menu.

We often add many screenshots in the tutorial but this tiny little idea of "showing stuff to the user" may have a huge cost! The drawback of using such images in the help is that as the tool evolves the UI does so, and the tutorial screenshots are quickly really different from the real tool user interface.

Then you even have to recapture screenshots for every release, or just decide that "**a real doc has no screenshots**".

Both are **inadmissible**. One idea would be to integrate this "screen capture" step in the build process and automatically capture the wizards, views or properties. Then, you would even be able to **localize your documentation screenshots** starting this process for every localization you have. You've got pretty much anything you need right now thanks to Eclipse to do that.

The gem I mentioned is [SWTBot](https://www.eclipse.dev/swtbot/). Thanks to this little tool I quickly managed to get a basic test scenario working to test UI. Even if testing is important, and testing UI is tricky, here my goal was to produce the screenshots from the tests. Here is the code:

```
bot.view("Welcome").close();

bot.menu("Window").menu("Open Perspective").menu("Other...").click();
SWTBotShell openPerspectiveShell = bot.shell("Open Perspective");
openPerspectiveShell.activate();

bot.table().select("Acceleo");
captureScreenshot("1-switch-perspective.png");
bot.button("OK").click();
```

![Switch perspective](https://2.bp.blogspot.com/_u5tMWln_Ie8/Sa6GLMuNNLI/AAAAAAAAAG4/AbnjaM7dp7U/s320/1-switch-perspective.png)

```
bot.menu("File").menu("New").menu("Project...").click();
SWTBotShell newProjectShell = bot.shell("New Project");
newProjectShell.activate();
bot.tree().expandNode("Acceleo").getNode("Generator Project").select();
captureScreenshot("2-new-generator-project.png");
```

![New generator project](https://2.bp.blogspot.com/_u5tMWln_Ie8/Sa6FQFBJiZI/AAAAAAAAAGQ/fHBLvH_QWlY/s320/2-new-generator-project.png)

```
bot.button("Next >").click();
bot.text().setText("org.acceleo.uml2.gen.java");
captureScreenshot("3-new-generator-step1.png");
```

![New generator step 1](https://1.bp.blogspot.com/_u5tMWln_Ie8/Sa6FYO_U8vI/AAAAAAAAAGY/TwG42ilJ8Ao/s320/3-new-generator-step1.png)

```
bot.button("Finish").click();
bot.waitUntil(Conditions.shellCloses(newProjectShell));
captureScreenshot("4-generator-project-done.png");
```

![Generator project done](https://3.bp.blogspot.com/_u5tMWln_Ie8/Sa6FeHfSSbI/AAAAAAAAAGg/ZMsLD3z8wnQ/s320/4-generator-project-done.png)

```
bot.menu("File").menu("New").menu("Empty Generator").click();
SWTBotShell newTemplateShell = bot.shell("New");
newTemplateShell.activate();
captureScreenshot("5-new-template-wizard.png");
```

![New template wizard](https://1.bp.blogspot.com/_u5tMWln_Ie8/Sa6Fj_1ZtVI/AAAAAAAAAGo/7LMoutCcWkE/s320/5-new-template-wizard.png)

```
bot.comboBox().setSelection("https://www.eclipse.dev/uml2/2.1.0/UML");
bot.comboBox(1).setSelection("uml.Class");
captureScreenshot("6-new-template-wizard-full.png");
```

![New template wizard full](https://2.bp.blogspot.com/_u5tMWln_Ie8/Sa6Ftf1UNUI/AAAAAAAAAGw/Qs2yzyzlGB0/s320/6-new-template-wizard-full.png)

That's the [喜喜 (ShuangXi)](https://en.wikipedia.org/wiki/Double_Happiness_%28calligraphy%29) effect: you roughly test your UI and you get your screenshots!

_ps: special "Hi" to the unique Guangzhou visitor I had on this blog so far :)_

