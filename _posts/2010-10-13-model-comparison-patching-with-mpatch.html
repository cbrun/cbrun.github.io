---
layout: post
title: 'Model Comparison  : Patching with MPatch'
date: '2010-10-13T05:25:00.000-07:00'
author: Cédric Brun
tags:
- eclipse
- compare
modified_time: '2010-10-13T05:28:41.528-07:00'
blogger_id: tag:blogger.com,1999:blog-5749374620125186414.post-8443724993412705362
blogger_orig_url: http://model-driven-blogging.blogspot.com/2010/10/model-comparison-patching-with-mpatch.html
noindex: true
---

<i>The following message is posted on this blog on behalf of Patrick Könemann</i><br /><img src="http://modeldiff.imm.dtu.dk/modeldiff/images/delta.png" alt="" width="88" height="76" style="float: right; padding: 10px;" /><br /><br /><p><br /></p><p>Cédric already announced it two weeks ago: <b>MPatch is integrated into EMF Compare!</b></p><br /><br /><p><i>Did you ever want to transfer changes from one model to another?</i></p><br /><br /><p><i>Or do you frequently perform the same changes on your models?</i></p><br /><br /><p>MPatch is a technology that stores model changes as self-contained artifacts, just like patches, that are also applicable to other models! Let me show an example of how MPatch works:</p><br /><br /><p>This is just a simple model, a base version on the left and a modified version on the right.<br />Modeled with the IBM Rational Software Architect, but any kind of EMF model is supported.<br />The changes are highlighted: 3 deleted attributes, 1 updated attribute, 1 new class, 3 new generalizations.</p><br /><br /><p align="center"><img src="http://modeldiff.imm.dtu.dk/modeldiff/images/stories/tutorial2/modela.png" alt="" /></p><br /><br /><p>EMF Compare is a nice tool for calculating such changes. The result is shown below.<br />All changes are nicely highlighted in the treeviews and one can browse through them.<br />This is where <b>MPatch</b> comes into play: the <b>export</b> menu lists a new option!</p><br /><br /><p align="center"><img src="http://modeldiff.imm.dtu.dk/modeldiff/images/stories/tutorial2/emfcompare.png" alt="" /></p><br /><br /><p>An export wizard is started that guides the user through the <b>MPatch</b> creation task.<br />In the end, the changes are stored in a file, <b>extract_id.mpatch</b> for example.<br />This file can now be applied to other models, even if <b>their contents differ</b>!</p><br /><br /><p align="center"><img src="http://modeldiff.imm.dtu.dk/modeldiff/images/stories/tutorial2/apply.png" alt="" /></p><br /><br /><p>The model below is a different one -- again we want to extract the id attribute into a common superclass.<br />However, the attributes, the classes, and even the number of attributes and classes differ!</p><br /><br /><p align="center"><img src="http://modeldiff.imm.dtu.dk/modeldiff/images/stories/tutorial2/modelb.png" alt="" /></p><br /><br /><p>Let's see how <b>MPatch</b> handles the situation.<br />Selecting <i>Apply MPatch</i> triggers a wizard with the same name.<br />The crucial part is the so-called <i>resolution of symbolic references</i> -- they are responsible for selecting the proper model elements of your target model.<br />Let's have a closer look:</p><br /><br /><p align="center"><img src="http://modeldiff.imm.dtu.dk/modeldiff/images/stories/tutorial2/resolve.png" alt="" width="660" height="388" /></p><br /><br /><ul><br /><li>The first change is not applicable because there is no attribute called <i>Title</i> -- ignore this!<br /></li><li>The second change is applicable because a similarly named package (<i>data</i> vs. <i>customerdata</i>) is found -- ok.<br /></li><li>The third change is applicable because I manually selected <i>Contract</i> and <i>Invoice</i> -- ok.<br /></li><li>The fourth change is applicable because similar named attributes (<i>id</i> vs. <i>inv_id / con_id</i>) are found -- ok.<br /></li></ul><br /><br /><p>Following the wizard to its end updates the given model and this is the result:</p><br /><br /><p align="center"><img src="http://modeldiff.imm.dtu.dk/modeldiff/images/stories/tutorial2/applied.png" alt="" /></p><br /><br /><br /><p>To wrap up, an <b>Mpatch</b> is not only a self-contained patch for models, it is even able to make the changes applicable to different models!</p><br /><br /><p><b>Installation instructions</b> and a lot more information on the project website: <a href="http://modeldiff.imm.dtu.dk/">http://modeldiff.imm.dtu.dk</a>.</p>
