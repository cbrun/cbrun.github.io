---
layout: post
title: Ecore In Colors
date: '2010-02-08T07:58:00.001-08:00'
tags:
- ecore
- graphical
- eclipse
modified_time: '2010-02-08T08:45:38.791-08:00'
thumbnail: https://4.bp.blogspot.com/_u5tMWln_Ie8/S3A7bzr-3BI/AAAAAAAAAOA/uA41TAikiik/s72-c/ecorenotincolor.png
blogger_id: tag:blogger.com,1999:blog-5749374620125186414.post-7976872474991518970
blogger_orig_url: https://model-driven-blogging.blogspot.com/2010/02/ecore-in-colors.html
---

<div style="text-align: center;"><br /></div><a onblur="try {parent.deselectBloggerImageGracefully();} catch(e) {}" href="https://3.bp.blogspot.com/_u5tMWln_Ie8/S3A7N2Z1h4I/AAAAAAAAAN4/BRB5tzTYZoQ/s1600-h/layerdefinition.png"></a>I landed on a few articles about "<i><a href="https://en.wikipedia.org/wiki/UML_colors">UML in Colors</a></i>" lately, I enjoyed reading <a href="https://knol.google.com/k/stephen-palmer/object-modelling-in-colour#">those</a> as modeling is used here as a design tool and support for efficient communication. It also made me think : that's a nice use case for our <a href="https://www.obeosoft.com/fr/pages/obeo-designer/">extensible modeling environmen</a>t !<div><br /></div><div>The Amalgamation book is already describing how to define your own "Domain Neutral Component" model and create the graphical modeler thanks to GMF. Let's take an existing formalism for a change and as I like Ecore, I'll pick Ecore.</div><div><br /></div><div>Here is the diagram editor before the extension, quite boring isn't it ? </div><div><span class="Apple-style-span" style="color: rgb(0, 0, 238); -webkit-text-decorations-in-effect: underline; "><img src="https://4.bp.blogspot.com/_u5tMWln_Ie8/S3A7bzr-3BI/AAAAAAAAAOA/uA41TAikiik/s400/ecorenotincolor.png" border="0" alt="" id="BLOGGER_PHOTO_ID_5435910099153378322" style="display: block; margin-top: 0px; margin-right: auto; margin-bottom: 10px; margin-left: auto; text-align: center; cursor: pointer; width: 400px; height: 321px; " /></span></div><div><span class="Apple-style-span" style="color: rgb(0, 0, 238); -webkit-text-decorations-in-effect: underline; "><span class="Apple-style-span" style="color: rgb(0, 0, 0); "><div>We'll add an "archetypes" layer for the Ecore modeler, this layer only contains a specialization of the container mapping definition used to display the EClasses in the Ecore modeler.</div><div><br /></div><div><span class="Apple-style-span" style="color: rgb(0, 0, 238); -webkit-text-decorations-in-effect: underline; "><img src="https://3.bp.blogspot.com/_u5tMWln_Ie8/S3A7N2Z1h4I/AAAAAAAAAN4/BRB5tzTYZoQ/s400/layerdefinition.png" border="0" alt="" id="BLOGGER_PHOTO_ID_5435909859364407170" style="display: block; margin-top: 0px; margin-right: auto; margin-bottom: 10px; margin-left: auto; text-align: center; cursor: pointer; width: 400px; height: 159px; " /></span></div><div><span class="Apple-style-span" style="color: rgb(0, 0, 238); -webkit-text-decorations-in-effect: underline; "><br /></span></div><div><span class="Apple-style-span"  style="color:#0000EE;"><br /></span></div><div><span class="Apple-style-span"  style="color:#0000EE;"><br /></span></div></span></span></div><div>Specializing the diagram definition is mainly about adding a few new conditional styles (for the colors)  and a few tools in the palette. I decided to use Ecore's annotation to keep the information about "being an archetyped EClass". Here is the full definition :</div><div><span class="Apple-style-span" style="color: rgb(0, 0, 238); -webkit-text-decorations-in-effect: underline; "><img src="https://4.bp.blogspot.com/_u5tMWln_Ie8/S3A8qZl4sRI/AAAAAAAAAOY/t1SJdwPYnz8/s400/diagramdefinitionextension.png" border="0" alt="" id="BLOGGER_PHOTO_ID_5435911449358151954" style="display: block; margin-top: 0px; margin-right: auto; margin-bottom: 10px; margin-left: auto; text-align: center; cursor: pointer; width: 400px; height: 254px; " /></span></div><div><span class="Apple-style-span" style="color: rgb(0, 0, 238); -webkit-text-decorations-in-effect: underline; "><br /></span></div><div><br /></div><div>Let's have a closer look on a few user interactions : adding the original EClass mapping in "extra mappings" of the tool definition allows me to define modeling assistant accelerators to contextually change an archetype:</div><div><span class="Apple-style-span" style="color: rgb(0, 0, 238); -webkit-text-decorations-in-effect: underline; "><img src="https://2.bp.blogspot.com/_u5tMWln_Ie8/S3A8kbH6T_I/AAAAAAAAAOQ/Z4_ezW7N4fk/s400/colorswitchmodelingassistant.png" border="0" alt="" id="BLOGGER_PHOTO_ID_5435911346690084850" style="display: block; margin-top: 0px; margin-right: auto; margin-bottom: 10px; margin-left: auto; text-align: center; cursor: pointer; width: 246px; height: 195px; " /></span></div><div><span class="Apple-style-span" style="color: rgb(0, 0, 238); -webkit-text-decorations-in-effect: underline; "><span class="Apple-style-span" style="-webkit-text-decorations-in-effect: underline; "><img src="https://1.bp.blogspot.com/_u5tMWln_Ie8/S3A8_eY1FXI/AAAAAAAAAOw/8z4JoiOYMUw/s400/archetypepalette.png" border="0" alt="" id="BLOGGER_PHOTO_ID_5435911811422819698" style="display: block; margin-top: 0px; margin-right: auto; margin-bottom: 10px; margin-left: auto; text-align: center; cursor: pointer; width: 183px; height: 167px; " /></span></span></div><div><span class="Apple-style-span" style="color: rgb(0, 0, 238); -webkit-text-decorations-in-effect: underline; "><span class="Apple-style-span" style="-webkit-text-decorations-in-effect: underline; "><br /></span></span></div><div><span class="Apple-style-span" style="color: rgb(0, 0, 238); -webkit-text-decorations-in-effect: underline; "><br /></span></div><div><br /></div><div>I also used the tooltips on my tools to help the user identify the archetypes :</div><div><br /></div><div><br /></div><div><div style="text-align: center;"><br /></div><a onblur="try {parent.deselectBloggerImageGracefully();} catch(e) {}" href="https://3.bp.blogspot.com/_u5tMWln_Ie8/S3A81MO8mkI/AAAAAAAAAOo/7dyB-LDOxGM/s1600-h/tooltooltip.png"></a><a onblur="try {parent.deselectBloggerImageGracefully();} catch(e) {}" href="https://1.bp.blogspot.com/_u5tMWln_Ie8/S3A8ysWkOKI/AAAAAAAAAOg/0GXFLWHFkks/s1600-h/tooltooltipdefinition.png"><img src="https://1.bp.blogspot.com/_u5tMWln_Ie8/S3A8ysWkOKI/AAAAAAAAAOg/0GXFLWHFkks/s400/tooltooltipdefinition.png" border="0" alt="" id="BLOGGER_PHOTO_ID_5435911591833122978" style="display: block; margin-top: 0px; margin-right: auto; margin-bottom: 10px; margin-left: auto; text-align: center; cursor: pointer; width: 400px; height: 149px; " /></a></div><div><br /></div><div><span class="Apple-style-span" style="color: rgb(0, 0, 238); -webkit-text-decorations-in-effect: underline; "><img src="https://3.bp.blogspot.com/_u5tMWln_Ie8/S3A81MO8mkI/AAAAAAAAAOo/7dyB-LDOxGM/s400/tooltooltip.png" border="0" alt="" id="BLOGGER_PHOTO_ID_5435911634750839362" style="display: block; margin-top: 0px; margin-right: auto; margin-bottom: 10px; margin-left: auto; text-align: center; cursor: pointer; width: 175px; height: 160px; " /></span></div><div><span class="Apple-style-span" style="color: rgb(0, 0, 238); -webkit-text-decorations-in-effect: underline; "><br /></span></div><div>And here is the final result !</div><div><br /></div><div><span class="Apple-style-span" style="color: rgb(0, 0, 238); -webkit-text-decorations-in-effect: underline; "><img src="https://4.bp.blogspot.com/_u5tMWln_Ie8/S3A8cTiUUeI/AAAAAAAAAOI/KIDJbk5FmJE/s400/ecoreincolor.png" border="0" alt="" id="BLOGGER_PHOTO_ID_5435911207214404066" style="display: block; margin-top: 0px; margin-right: auto; margin-bottom: 10px; margin-left: auto; text-align: center; cursor: pointer; width: 400px; height: 315px; " /></span></div><div><span class="Apple-style-span" style="color: rgb(0, 0, 238); -webkit-text-decorations-in-effect: underline; "><br /></span></div><div>Of course <b>not a single line of code</b> is needed to get this and the modeler specification is automatically deployed adapting the original Ecore one.</div><div><br /></div><div>Enjoying the colors ? ;)</div><div><br /></div><div><br /></div><div><br /></div><div><br /></div><div><br /></div>